<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>محفظة الادخار العالمية</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
<header>
  <div class="bar container">
    <div class="row">
      <img src="https://i.postimg.cc/tTSfNWkn/image.jpg" class="avatar" alt="عبدالعزيز"/>
      <strong>محفظة الادخار العالمية</strong>
      <span id="sync-badge" class="badge">جارِ الاتصال…</span>
    </div>
    <nav class="row" style="gap:12px">
      <button class="btn ghost" id="nav-home">الرئيسية</button>
      <button class="btn ghost" id="nav-admin">لوحة الآدمن</button>
      <button class="btn ghost" id="nav-signout" style="display:none">تسجيل خروج</button>
    </nav>
  </div>
</header>

<main class="container" id="view-root"></main>

<!-- PIN Modal -->
<div class="overlay" id="pin-overlay">
  <div class="modal card">
    <h3 class="modal-title">أدخل الرقم السري</h3>
    <div class="tiny muted" id="pin-desc"></div>
    <input class="input" id="pin-input" type="password" inputmode="numeric" maxlength="4" placeholder="أربع خانات"/>
    <div class="row modal-actions">
      <button class="btn" id="pin-ok">تأكيد</button>
      <button class="btn" id="pin-cancel">إلغاء</button>
    </div>
    <div class="tiny danger" id="pin-err" style="display:none"></div>
  </div>
</div>

<footer>© <span id="year"></span> محفظة الادخار العالمية</footer>

<!-- Firebase compat SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<!-- تهيئة Firebase + متغيرات عامة -->
<script src="./firebase.js"></script>

<!-- منطق التطبيق -->
<script src="./app.js"></script>
</body>
</html>
